<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lagos State EDUCATION MANAGEMENT INFORMATION SYSTEM (EMIS)</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <script>
        const user = JSON.parse(sessionStorage.getItem('user'));
        if (!user) {
            window.location.href = 'login.html';
        } else if (user.role === 'enumerator') {
            window.location.href = 'survey.html';
        }
    </script>
    <div id="success-message" style="display: none; background-color: #4CAF50; color: white; text-align: center; padding: 10px;">
        Survey submitted successfully!
    </div>
    <header>
        <div class="header-top">
            <a href="/"><img src="surveylogo.jpeg" alt="Lagos State Logo"></a>
            <h1>Lagos State EDUCATION MANAGEMENT INFORMATION SYSTEM (EMIS)</h1>
            <button class="hamburger-menu">
                &#9776;
            </button>
            <div id="user-profile">
                <img id="user-avatar" src="" alt="User Avatar">
                <span id="user-name"></span>
            </div>
        </div>
        <nav>
            <ul>
                <li><a href="/">Dashboard</a></li>
                <li><a href="/users">Users</a></li>
                <li><a href="/profile">Profile</a></li>
                <li><a href="/reports">Reports</a></li>
                <li><a href="/audit-log">Audit Log</a></li>
                <li><a href="/forms">School Census Forms</a></li>
                <li><button id="logout-button">Logout</button></li>
            </ul>
        </nav>
    </header>
    <div class="dashboard">
        <div class="chart-container">
            <h2>Office Infrastructure</h2>
            <canvas id="officeInfrastructureChart"></canvas>
            <table>
                <thead>
                    <tr>
                        <th>Condition</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody id="officeInfrastructureTableBody">
                </tbody>
            </table>
        </div>
        <div class="chart-container">
            <h2>Respondents Demographics</h2>
            <h3>Sex Distribution of Respondents</h3>
            <canvas id="sexDistributionChart"></canvas>
            <h3>Highest Qualifications</h3>
            <canvas id="qualificationsChart"></canvas>
        </div>
        <div class="chart-container">
            <h2>Source of Electricity</h2>
            <canvas id="electricitySourceChart"></canvas>
        </div>
        <div class="chart-container">
            <h2>Toilet Facilities</h2>
            <canvas id="toiletFacilitiesChart"></canvas>
            <table>
                <thead>
                    <tr>
                        <th>Toilet Metric</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody id="toiletFacilitiesTableBody">
                </tbody>
            </table>
        </div>
        <div class="chart-container">
            <h2>Staffing</h2>
            <canvas id="staffingChart"></canvas>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Male</th>
                        <th>Female</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="staffingTableBody">
                </tbody>
            </table>
        </div>

        <div class="chart-container">
            <h2>Private School Data</h2>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody id="privateSchoolTableBody">
                </tbody>
            </table>
        </div>
        <div class="chart-container">
            <h2>ECCDE Enrolment</h2>
            <canvas id="eccdeEnrolmentChart"></canvas>
            <table>
                <thead>
                    <tr>
                        <th>Level</th>
                        <th>Male</th>
                        <th>Female</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="eccdeEnrolmentTableBody">
                </tbody>
            </table>
        </div>
        <div class="chart-container">
            <h2>ECCDE Staffing</h2>
            <canvas id="eccdeStaffingChart"></canvas>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody id="eccdeStaffingTableBody">
                </tbody>
            </table>
        </div>
    </div>
    <script src="script.js"></script>
    <script src="main.js"></script>
    <script src="logout.js"></script>
</body>
</html>
